<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <title>Currency Converter</title>
    <link href="https://www.iconhot.com/icon/png/siena/256/currency-dollar-red.png" rel="icon" type="image/x-icon" />

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Custom fonts for this template -->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" />
    <link
      href="vendor/simple-line-icons/css/simple-line-icons.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic"
      rel="stylesheet"
      type="text/css"
    />

    <!-- Custom styles for this template -->
    <link href="css/landing-page.css" rel="stylesheet" />
  </head>

  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-light bg-light static-top">
      <div class="container">
        <a class="navbar-brand" href="index.html">Online Currency Converter</a>
        <div>
          <a href="index.html" style="color: #000; margin: 5px;">Home</a>
          <a href="blog.html" style="color: #000; margin: 5px;">Blog</a>
          <a href="about-us.html" style="color: #000; margin: 5px;">About us</a>
        </div>
      </div>
    </nav>

    <!-- Masthead -->
    <header class="masthead text-white text-center">
      <div class="overlay"></div>
      <div class="container">
        <div class="row">
          <div class="col-8 mx-auto" style="max-width: 100%; flex: none;">
            <h1>Convert your money easily</h1>
            <br><br><br>
            
            <form class="form-vertical text-lg-left">
              <div class="input-group">
                  <span class="input-group-btn">
                      <button 
                      class="btn btn-light dropdown-toggle"
                      type="button"
                      id="dropdownMenuButtonFrom"
                      data-toggle="dropdown"
                      aria-haspopup="true"
                      aria-expanded="false"
                      style="margin-right: 20px; width: 200px;"
                      >From</button>
                      <div
                      id="fromDropdown"
                    class="dropdown-menu"
                    aria-labelledby="dropdownMenuButton"
                    style="max-height: 200px;overflow: auto;">
                    </div>
                  </span>

                  <img src="http://www.pngonly.com/wp-content/uploads/2018/11/arrow-transparent-picture2.png" style="width: 150px; height: 50px;margin-right: 20px;margin-top: -7px;">

                  <input
                  type="text"
                  class="form-control width100"
                  id="inputSum"
                  aria-describedby="inputSumHelp"
                  value="1"
                  style="margin-right: 20px"
                />

                <img src="http://www.pngonly.com/wp-content/uploads/2018/11/arrow-transparent-picture2.png" style="width: 150px; height: 50px;margin-right: 20px;margin-top: -7px;">

                <span class="input-group-btn">
                    <button 
                    class="btn btn-light dropdown-toggle"
                    type="button"
                    id="dropdownMenuButtonTo"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                    style="width: 200px;"
                    >To</button>
                    
                    <div
                    id="toDropdown"
                  class="dropdown-menu"
                  aria-labelledby="dropdownMenuButton"
                  style="max-height: 200px;overflow: auto;">
                  </div>
                </span>
              </div>
              
              </div>
            </form>
            <div id="resultDiv" style="border: 2px solid #1dacfb;font-size: 30px; width: 500px; margin: 30px auto;font-weight: bold;color: #fff; background-color: rgba(0, 0, 0, 0.7); padding: 20px;">0</div>
          </div>
          
        </div>
      </div>
    </header>
    <section>
      <div class="row">
          <div id="chart_div" style="width:auto; min-width: 50%;height:400px;margin: 0 auto;margin-top: -100px;"></div>
        
      </div>
    </div>
    </section>
    <!-- Icons Grid -->
    <section class="features-icons bg-light text-center">
      <div class="container">
        <div class="row">
          <div class="col-lg-4">
            <div class="features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3">
              <div class="features-icons-icon d-flex">
                <i class="icon-screen-desktop m-auto text-primary"></i>
              </div>
              <h3>Fast Convert</h3>
              <p class="lead mb-0">
                This online convertor will convert your money in a blick of an eye!
              </p>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3">
              <div class="features-icons-icon d-flex">
                <i class="icon-layers m-auto text-primary"></i>
              </div>
              <h3>Build For You</h3>
              <p class="lead mb-0">
                Builded with love and passion!
              </p>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="features-icons-item mx-auto mb-0 mb-lg-3">
              <div class="features-icons-icon d-flex">
                <i class="icon-check m-auto text-primary"></i>
              </div>
              <h3>Easy to Use</h3>
              <p class="lead mb-0">
                Pick an amount and get to go!
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

<!-- 
    <section class="features-icons bg-light text-center">
        <div class="container">
          <div class="row">
              <div id="googleMap" style="width:100%;height:400px;"></div>

          </div>
        </div>
      </section> -->

    <!-- Testimonials -->
    <section class="testimonials text-center bg-light">
      <div class="container">
        <h2 class="mb-5">What people are saying...</h2>
        <div class="row">
          <div class="col-lg-4">
            <div class="testimonial-item mx-auto mb-5 mb-lg-0">
              <img
                class="img-fluid rounded-circle mb-3"
                src="img/testimonials-1.jpg"
                alt=""
              />
              <h5>Elitsa V.</h5>
              <p class="font-weight-light mb-0">
                "This is fantastic! Thanks so much guys!"
              </p>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="testimonial-item mx-auto mb-5 mb-lg-0">
              <img
                class="img-fluid rounded-circle mb-3"
                src="img/testimonials-2.jpg"
                alt=""
              />
              <h5>Sinan S.</h5>
              <p class="font-weight-light mb-0">
                "An excellent experience!"
              </p>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="testimonial-item mx-auto mb-5 mb-lg-0">
              <img
                class="img-fluid rounded-circle mb-3"
                src="img/testimonials-3.jpg"
                alt=""
              />
              <h5>Dinko D.</h5>
              <p class="font-weight-light mb-0">
                "Very good and fast!"
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Call to Action -->
    <section class="call-to-action text-white text-center">
      <div class="overlay"></div>
      <div class="container">
        <div class="row">
          <div class="col-xl-9 mx-auto">
            <h2 class="mb-4">Want to get rate updates? Sign up now!</h2>
          </div>
          <div class="col-md-10 col-lg-8 col-xl-7 mx-auto">
            <form>
              <div class="form-row">
                <div class="col-12 col-md-9 mb-2 mb-md-0">
                  <input
                    type="email"
                    class="form-control form-control-lg"
                    placeholder="Enter your email..."
                  />
                </div>
                <div class="col-12 col-md-3">
                  <button
                    type="submit"
                    class="btn btn-block btn-lg btn-primary"
                  >
                    Sign up!
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer bg-light">
      <div class="container">
        <div class="row">
          <div class="col-lg-6 h-100 text-center text-lg-left my-auto">
            <ul class="list-inline mb-2">
              <li class="list-inline-item">
                <a href="index.html">Home</a>
              </li>
              <li class="list-inline-item">&sdot;</li>
              <li class="list-inline-item">
                <a href="blog.html">Blog</a>
              </li>
              <li class="list-inline-item">&sdot;</li>
              <li class="list-inline-item">
                <a href="about-us.html">About us</a>
              </li>
            </ul>
            <p class="text-muted small mb-4 mb-lg-0">
              &copy; Online Currency Convertor 2019. All Rights Reserved.
            </p>
          </div>
          <div class="col-lg-6 h-100 text-center text-lg-right my-auto">
            <ul class="list-inline mb-0">
              <li class="list-inline-item mr-3">
                <a href="#">
                  <i class="fab fa-facebook fa-2x fa-fw"></i>
                </a>
              </li>
              <li class="list-inline-item mr-3">
                <a href="#">
                  <i class="fab fa-twitter-square fa-2x fa-fw"></i>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="#">
                  <i class="fab fa-instagram fa-2x fa-fw"></i>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </footer>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	  <script>
		  
		  google.charts.load('current', {packages: ['corechart', 'line']});
google.charts.setOnLoadCallback(drawBasic);

    function drawBasic() {

      var today = new Date();
      var dd = String(today.getDate()).padStart(2, '0');
      var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
      var yyyy = today.getFullYear();

      today = `${yyyy}-${mm}-${dd}`;

      var oneWeekAgo = new Date();
      oneWeekAgo.setDate((new Date()).getDate() - 10);

      dd = String(oneWeekAgo.getDate()).padStart(2, '0');
      mm = String(oneWeekAgo.getMonth() + 1).padStart(2, '0'); //January is 0!
      yyyy = oneWeekAgo.getFullYear();

      oneWeekAgo = `${yyyy}-${mm}-${dd}`;

      fetch(`https://api.exchangeratesapi.io/history?start_at=${oneWeekAgo}&end_at=${today}&symbols=${fromCurrency},${toCurrency}&base=${fromCurrency}`)
          .then(response => response.json())
          .then(response => {
              var rates = response.rates;
              var keys = Object.keys(rates);
              keys = keys.sort();

              var history = keys.map(key => {
                return [key, rates[key][toCurrency]];
              })

              var data = new google.visualization.DataTable();
              data.addColumn('string', 'Time');
              data.addColumn('number', 'Rate');

              data.addRows(history);

              var options = {
                hAxis: {
                  title: 'Time'
                },
                vAxis: {
                  title: 'Rate'
                }
              };

              var chart = new google.visualization.LineChart(document.getElementById('chart_div'));

              chart.draw(data, options);
          });
    }
    </script>
    
    <script>
      var currencies = [];
      var fromCurrency = false;
      var toCurrency = false;

      fetch('https://api.exchangeratesapi.io/latest')
      .then(response => response.json())
      .then(response => {
        currencies = Object.keys(response.rates);
        currencies = currencies.sort();

        var list = currencies.map(currency => {
          return "<a class='dropdown-item' onClick='fromClick(\"" + currency + "\")'>" + currency + "</a>"
        });

        $('#fromDropdown').html(list.join(' '));
        fromClick(currencies[0]);

        list = currencies.map(currency => {
          return "<a class='dropdown-item' onClick='toClick(\"" + currency + "\")'>" + currency + "</a>"
        });
        $('#toDropdown').html(list.join(' '));
        toClick(currencies[1]);
      });

      function fromClick(currency) {
        fromCurrency = currency;
        $('#dropdownMenuButtonFrom').text(currency);

        if(toCurrency) {
          calc();
          drawBasic();
        }
      }

      function toClick(currency) {
        toCurrency = currency;
        $('#dropdownMenuButtonTo').text(currency);

        if(fromCurrency) {
          calc();
          drawBasic();
        }
      }

      function calc() {
        if(!fromCurrency || !toCurrency) {
          return;
        }

        fetch(`https://api.exchangeratesapi.io/latest?symbols=${fromCurrency},${toCurrency}&base=${fromCurrency}`)
          .then(response => response.json())
          .then(response => {
              var rate = response.rates[toCurrency];
              var amount = parseFloat($('#inputSum').val());
              var result = parseFloat(rate) * amount;
              $('#resultDiv').html(amount + " " + fromCurrency + " = " + Math.round(result * 100) / 100 + " " + toCurrency);
          });
      }

      $('#inputSum').on('input', () => {
        calc();
      });

    </script>


<script>
    function myMap() {
    var mapProp= {
      center:new google.maps.LatLng(43.2141,27.9147),
      zoom: 13,
    };
    var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);
    }

    fetch('https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyChSqCKyX4pWUZ5ew1TB8_aIu6RLJtQYyc&sensor=false&location=43.2141,27.9147&radius=47022&keyword=%22change%22',{
      mode: 'no-cors'
    })
    .then(res => res.json())
    .then(res => {
      console.log(123);
      console.log(res);
    });
    </script>
    
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyChSqCKyX4pWUZ5ew1TB8_aIu6RLJtQYyc&callback=myMap"></script>
    
  </body>
</html>
